---
source: "blog"
title: "Exploring variables in QGIS 2.12, part 1"
date: "2015-12-02T10:40:17+0000"
link: "http://nyalldawson.net/2015/12/exploring-variables-in-qgis-2-12-part-1/"
draft: "false"
showcase: "planet"
subscribers: ["nyalldawson_net"]
author: "nyalldawson.net"
tags: ["qgis", "2.12", "composer", "geospatial", "osgeo", "qgis"]
---

<p>It&#8217;s been quite some time since I last had a chance to blog and a lot has happened since then. Not least of which is that QGIS 2.12 has now been released with a ton of new features that I&#8217;ve neglected to write about! To try and get things moving along here again I&#8217;m planning on writing a short series exploring how variables work in QGIS 2.12 and the exciting possibilities they unlock. First, let&#8217;s look into how variables can be used with QGIS map composer&#8230;</p>
<p>So, let&#8217;s get started! A new concept introduced in QGIS 2.12 is the ability to set custom variables for use in QGIS&#8217; expression engine. The easiest way to do this is through the &#8220;P<em>roject Properties</em>&#8221; dialog, under the &#8220;<em>Variables</em>&#8221; section:</p>
<div class="wp-caption aligncenter" id="attachment_649" style="width: 710px;"><img alt="Default project variables" class="wp-image-649 size-full" height="447" src="http://nyalldawson.net/wp-content/uploads/2015/12/variables1.png" width="700" /><p class="wp-caption-text" id="caption-attachment-649">Default project variables</p></div>
<p>You&#8217;ll see in the screenshot above that a blank project includes a number of read-only preset variables, such as <em>@project_path</em> and <em>@project_title</em>. (All variables in QGIS are prefixed with an @ character to differentiate them from fields or functions). You can add your own variables to this list by clicking the + button, as shown below:</p>
<div class="wp-caption aligncenter" id="attachment_650" style="width: 710px;"><img alt="Adding new variables to a project" class="size-full wp-image-650" height="447" src="http://nyalldawson.net/wp-content/uploads/2015/12/adding_variables.png" width="700" /><p class="wp-caption-text" id="caption-attachment-650">Adding new variables to a project</p></div>
<p>Here I&#8217;ve added some new variables, <em>@project_version</em> and <em>@author</em>. Now, any of these variables can be used anywhere that you can use expressions in QGIS, including the field calculator, data defined symbology, labelling, map composer text, etc. So, you could make a map composer template with a label that includes the @author, @project_version and @project_path variables:</p>
<div class="wp-caption aligncenter" id="attachment_651" style="width: 872px;"><img alt="Variables in a composer label" class="size-full wp-image-651" height="269" src="http://nyalldawson.net/wp-content/uploads/2015/12/composer_label.png" width="862" /><p class="wp-caption-text" id="caption-attachment-651">Variables in a composer label</p></div>
<p>Sure, you *could* also manually enter all these details directly into the label for the same result. But what happens when you have multiple composers in your project, and need to update the version number in all of them? Or you move your project to a new folder and need to make sure the path is updated accordingly? Manually updating multiple composers is a pain &#8211; make QGIS do the work for you and instead use variables! This would especially be helpful if you&#8217;re saving map composer templates for use across multiple projects or users. Using variables will ensure that the template is automatically updated with the right details for the current project.</p>
<p>Another neat thing about QGIS variables is that they can be inherited and overridden, just like CSS rules. Opening the options dialog will also show a Variables group for setting &#8220;<em>Global</em>&#8221; variables. These variables are always available for your QGIS installation, regardless of what project you&#8217;re working on at the time. If your workplace tends to reorganise a lot and constantly shuffle your department around, you could add a global variable for @work_department, so that changing the global variable value in one place will automatically filter through to any existing and future projects you have.</p>
<div class="wp-caption aligncenter" id="attachment_652" style="width: 856px;"><img alt="Global variables" class="size-full wp-image-652" height="580" src="http://nyalldawson.net/wp-content/uploads/2015/12/global_variables.png" width="846" /><p class="wp-caption-text" id="caption-attachment-652">Global variables</p></div>
<p>And like I mentioned earlier, these variables are inherited through various &#8220;contexts&#8221; within QGIS. If I reopen the Project Properties dialog, you&#8217;ll see that a project has access to all the global variables plus the variables set within that specific project. In addition, by adding a variable with the same name to the Project variables the value of the Global variable will be overridden:</p>
<div class="wp-caption aligncenter" id="attachment_653" style="width: 835px;"><img alt="Overridden variables" class="size-full wp-image-653" height="528" src="http://nyalldawson.net/wp-content/uploads/2015/12/overwritten.png" width="825" /><p class="wp-caption-text" id="caption-attachment-653">Overridden variables</p></div>
<p>There&#8217;s also a variable editor within each individual composer&#8217;s properties tab, so variables can also be set and overridden on a composer-by-composer basis within a project. It&#8217;s a really flexible and powerful approach which both simplifies workflows and also opens up lots of new possibilities.</p>
<p>Stay tuned for more on this topic &#8211; this topic has only just scratched the surface of how expression variables have changed QGIS! (You can also read <a href="http://nyalldawson.net/2015/12/exploring-variables-in-qgis-pt-2-project-management/">part 2</a> and <a href="http://nyalldawson.net/2015/12/exploring-variables-in-qgis-pt-3-layer-level-variables/">part 3</a>)</p>
